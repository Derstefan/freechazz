!function(){var e,t,n,r,i,o,s={1420:function(e,t,n){"use strict";var r=n(4094),i=n(4464),o=n(406),s=n(7676),u=n(4490);self.onmessage=e=>{let t;let{gameSnapshot:n,botPlayer:a,maxDepth:f}=e.data,c=function(e){switch(e){case"tiny":default:return i.v.tiny;case"small":return i.v.small;case"medium":return i.v.medium;case"big":return i.v.big;case"huge":return i.v.huge;case"massive":return i.v.massive;case"gigantic":return i.v.gigantic}}(n.formation1Data.sizeName),l=new s.s(n.formation1Data.formationSeed,c).generate();t=n.formation2Data.samePieces?new s.s(n.formation1Data.formationSeed,c).generate():new s.s(n.formation2Data.formationSeed,c).generate();let p=new u.E(l,t).firstPlayer(n.firstTurn).build();for(let e of n.moves)p.play(new o.Y(e.fromX,e.fromY),new o.Y(e.toX,e.toY));let v=new r.r(a,f).doDrawOn(p);if(v){let e={type:"result",fromX:v.fromPos.x,fromY:v.fromPos.y,toX:v.toPos.x,toY:v.toPos.y};self.postMessage(e)}else self.postMessage({type:"surrender"})}},4562:function(e,t,n){"use strict";n.d(t,{X:function(){return o}});var r=n(4552);let i=0;class o{get lvl(){return this.pieceType.pieceTypeId.lvl}get symbol(){return this.pieceType.symbol}get pos(){return this.position}isPossibleMove(e){for(let t of this.moveSet.getPossibleMoves())if(t.equals(e))return!0;return!1}copy(){var e,t;let n=new o(this.owner,this.pieceType);for(let i of(n.king=this.king,n.position=null!==(t=null===(e=this.position)||void 0===e?void 0:e.copy())&&void 0!==t?t:null,n.id=this.id,n.moveSet=new r.f,this.moveSet.getPossibleMoves()))n.moveSet.add(i.copy());return n}constructor(e,t){this.position=null,this.king=!1,this.moveSet=new r.f,this.distanceToEnemy=0,this.distanceToEnemyKing=0,this.distanceToOwnKing=0,this.id=i++,this.owner=e,this.pieceType=t}}}},u={};function a(e){var t=u[e];if(void 0!==t)return t.exports;var n=u[e]={exports:{}},r=!0;try{s[e](n,n.exports,a),r=!1}finally{r&&delete u[e]}return n.exports}a.m=s,a.x=function(){var e=a.O(void 0,[819],function(){return a(1420)});return a.O(e)},e=[],a.O=function(t,n,r,i){if(n){i=i||0;for(var o=e.length;o>0&&e[o-1][2]>i;o--)e[o]=e[o-1];e[o]=[n,r,i];return}for(var s=1/0,o=0;o<e.length;o++){for(var n=e[o][0],r=e[o][1],i=e[o][2],u=!0,f=0;f<n.length;f++)s>=i&&Object.keys(a.O).every(function(e){return a.O[e](n[f])})?n.splice(f--,1):(u=!1,i<s&&(s=i));if(u){e.splice(o--,1);var c=r();void 0!==c&&(t=c)}}return t},a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.f={},a.e=function(e){return Promise.all(Object.keys(a.f).reduce(function(t,n){return a.f[n](e,t),t},[]))},a.u=function(e){return"static/chunks/"+e+"-b4de9bdb0651a818.js"},a.miniCssF=function(e){},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.tt=function(){return void 0===t&&(t={createScriptURL:function(e){return e}},"undefined"!=typeof trustedTypes&&trustedTypes.createPolicy&&(t=trustedTypes.createPolicy("nextjs#bundler",t))),t},a.tu=function(e){return a.tt().createScriptURL(e)},a.p="/_next/",n={229:1},a.f.i=function(e,t){n[e]||importScripts(a.tu(a.p+a.u(e)))},i=(r=self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push.bind(r),r.push=function(e){var t=e[0],r=e[1],o=e[2];for(var s in r)a.o(r,s)&&(a.m[s]=r[s]);for(o&&o(a);t.length;)n[t.pop()]=1;i(e)},o=a.x,a.x=function(){return a.e(819).then(o)},_N_E=a.x()}();